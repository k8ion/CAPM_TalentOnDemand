<mvc:View
    controllerName="talentondemand.controller.Tod"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:card="sap.f.cards"
    xmlns:core="sap.ui.core"
    xmlns:layout="sap.ui.layout"
    xmlns:micro="sap.suite.ui.microchart"
    height="100%"
    displayBlock="true"
>
    <Page
        id="todPage"
        showHeader="true"
        enableScrolling="true"
    >
        <customHeader>
            <OverflowToolbar
                id="sID_todHeader_Hbox1"
                height="3.25rem"
            >
                <!-- Left: hamburger + brand -->
                <Button
                    id="sID_TodHeader_btn1"
                    icon="sap-icon://menu2"
                    type="Transparent"
                    tooltip="Menu"
                    press=".onPressHamburger"
                />

                <HBox
                    id="sID_TodHeader_Hbox1"
                    alignItems="Center"
                    class="sapUiTinyMarginBegin"
                >
                    <Title
                        id="sID_TodHeader_title1"
                        text="Talent"
                        level="H4"
                        titleStyle="H4"
                        class="hdrTalentGreen"
                    />
                    <Title
                        id="sID_TodHeader_title2"
                        text="OnDemand"
                        level="H4"
                        titleStyle="H4"
                        class="hdrRestBlack"
                    />
                </HBox>

                <ToolbarSpacer id="_IDGenToolbarSpacer1" />

                <!-- Center: search -->
                <SearchField
                    id="sfGlobal"
                    width="28rem"
                    placeholder="Search by ID or text..."
                    search=".onSearch"
                    liveChange=".onSearchLiveChange"
                />

                <ToolbarSpacer id="_IDGenToolbarSpacer2" />

                <!-- Right: actions -->
                <Button
                    id="btnHelp"
                    icon="sap-icon://sys-help"
                    type="Transparent"
                    tooltip="Help"
                    press=".onPressHelp"
                />

                <Button
                    id="btnSettings"
                    icon="sap-icon://action-settings"
                    type="Transparent"
                    tooltip="Settings"
                    press=".onPressSettings"
                />

                <Button
                    id="btnNotif"
                    icon="sap-icon://bell"
                    type="Transparent"
                    tooltip="Notifications"
                    press=".onPressNotifications"
                />

                <!-- Simple user menu -->
                <MenuButton
                    id="mbUser"
                    type="Transparent"
                    text="{view>/userInitials}"
                    tooltip="{view>/userName}"
                >
                    <menu>
                        <Menu id="_IDGenMenu">
                            <MenuItem
                                id="_IDGenMenuItem"
                                text="My Profile"
                                key="profile"
                                icon="sap-icon://employee"
                            />
                            <MenuItem
                                id="_IDGenMenuItem1"
                                text="Preferences"
                                key="prefs"
                                icon="sap-icon://settings"
                            />
                            <MenuItem
                                id="_IDGenMenuItem2"
                                text="Sign out"
                                key="signout"
                                icon="sap-icon://log"
                            />
                        </Menu>
                    </menu>
                </MenuButton>
            </OverflowToolbar>
        </customHeader>

        <content>
            <VBox
                id="sID_wellbeing_Vbox1"
                class="sapUiMediumMargin"
                width="100%"
            >
                <cssgrid:CSSGrid
                    id="cardGrid"
                    gridTemplateColumns="repeat(auto-fit, minmax(150px, max-content))"
                    gridGap="2rem"
                    class="independentCardGrid"
                    xmlns:cssgrid="sap.ui.layout.cssgrid"
                >
                    <VBox
                        id="sID_VBox1"
                        width="250px"
                        class="cardStack400"
                    >
                        <!-- Well-being Subsidy Card (Short) -->
                        <f:Card
                            id="sID_wellbeing_Card"
                            width="250px"
                        >
                            <f:header>
                                <card:Header
                                    id="sID_wellbeing_CardHeader"
                                    title="Well-being Subsidy"
                                    iconSrc="sap-icon://accessibility"
                                    subtitle="{= 'Remaining (' + ${wellbeing>/currency} + ')' }"
                                    press="OnWellBeingSubsidyPress"
                                />
                            </f:header>
                            <f:content>
                                <VBox
                                    id="sID_wellbeing_Vbox2"
                                    class="sapUiSmallMargin sapUiResponsiveContentPadding sapUiMediumMarginBegin"
                                    alignItems="Start"
                                >
                                    <NumericContent
                                        id="sID_wellbeing_Card_remainingCount"
                                        withMargin="false"
                                        value="{
                                    path: 'wellbeing>/remaining',
                                    formatter: '.formatter.formatCurrency'
                                }"
                                        truncateValueTo="10"
                                    />
                                </VBox>
                            </f:content>
                        </f:Card>

                        <!-- Coach Information -->
                        <f:Card
                            id="sID_CoachInfo"
                            width="250px"
                        >
                            <f:header>
                                <card:Header
                                    id="_IDCoachInfoHeader1"
                                    title="Coach Information"
                                    iconSrc="sap-icon://employee-pane"
                                />
                            </f:header>
                            <f:content>
                                <HBox
                                    id="_IDCoachInfoHBox"
                                    class="sapUiSmallMargin sapUiResponsiveContentPadding"
                                    alignItems="Center"
                                >
                                    <Avatar
                                        id="_IDCoachInfoAvatar"
                                        src="images/Avatar_Girl.jpg"
                                        displaySize="M"
                                        showBorder="true"
                                        press="onPress"
                                    />
                                    <Title
                                        id="_IDCoachInfoText2"
                                        class="sapUiSmallMargin rmNameEmphasis2"
                                        text="{= ${coachInfoModel>/coachName}}"
                                    />
                                </HBox>
                            </f:content>
                        </f:Card>
                    </VBox>

                    <VBox
                        id="sID_VBox2"
                        width="350px"
                        class="cardStack400"
                    >
                        <!-- Compliance Resource Card -->
                        <f:Card
                            id="sID_compliance_Card"
                            width="350px"
                        >
                            <f:header>
                                <card:Header
                                    id="sID_compliance_CardHeader"
                                    class="hdrComplianceHeaderLarge"
                                    title="Compliance Resource"
                                    iconSrc="sap-icon://complete"
                                />
                            </f:header>
                            <f:content>
                                <VBox
                                    id="sID_compliance_content"
                                    class="sapUiSmallMargin sapUiResponsiveContentPadding sapUiMediumMarginBegin"
                                >
                                    <HBox
                                        id="_IDGenHBox1"
                                        alignItems="Center"
                                        width="100%"
                                    >
                                        <!-- <core:Icon
                                            id="_IDGenIcon1"
                                            src="sap-icon://activity-individual"
                                            size="2rem"
                                            color="#0854a0"
                                            class="sapUiMediumMarginEnd"
                                            xmlns:core="sap.ui.core"
                                        /> -->
                                        <Title
                                            id="_IDGenTitle3"
                                            text="View My Compliance Dashboard"
                                            level="H4"
                                            wrapping="true"
                                        />
                                    </HBox>
                                </VBox>
                            </f:content>
                        </f:Card>

                        <!-- Development Plan Card -->
                        <f:Card
                            id="_IDGenCard"
                            width="350px"
                        >
                            <f:header>
                                <card:Header
                                    id="_IDGenHeader"
                                    title="Development Plan"
                                    iconSrc="sap-icon://kpi-managing-my-area"
                                    iconDisplayShape="Circle"
                                />
                            </f:header>

                            <f:content>
                                <VBox
                                    id="_IDGenVBox4"
                                    class="sapUiSmallMargin sapUiResponsiveContentPadding sapUiMediumMarginBegin"
                                    width="300px"
                                >
                                    <HBox
                                        id="_IDGenHBox2"
                                        class="sapUiSmallMargin"
                                        justifyContent="Center"
                                    >
                                        <micro:RadialMicroChart
                                            id="_IDGenRadialMicroChart"
                                            alignContent="Center"
                                            size="Responsive"
                                            percentage="{= (
                                                        ((${developmentPathModel>/Completed} || 0) + (${developmentPathModel>/Enrolled} || 0) + (${developmentPathModel>/NotEnrolled} || 0)) > 0)
                                                        ? ((${developmentPathModel>/Completed} || 0) * 100) /
                                                        ((${developmentPathModel>/Completed} || 0) + (${developmentPathModel>/Enrolled} || 0) + (${developmentPathModel>/NotEnrolled} || 0))
                                                        : 0
                                                    }"
                                            valueColor="Good"
                                        />
                                    </HBox>

                                    <Title
                                        id="_IDGenText11"
                                        text="{= 'In Plan ' + ((${developmentPathModel>/Completed} || 0) + (${developmentPathModel>/Enrolled} || 0) + (${developmentPathModel>/NotEnrolled} || 0))}"
                                        textAlign="Center"
                                        width="100%"
                                    />

                                    <VBox
                                        id="_IDGenVBox5"
                                        class="sapUiSmallMarginTop"
                                        width="275px"
                                    >
                                        <HBox
                                            id="_IDGenHBox3"
                                            justifyContent="SpaceBetween"
                                            alignItems="Center"
                                            class="sapUiTinyMarginBottom"
                                        >
                                            <ObjectStatus
                                                id="_IDGenObjectStatus"
                                                class="bigStatus"
                                                text="Completed"
                                                state="Success"
                                            />
                                            <ObjectNumber
                                                id="_IDGenObjectNumber6"
                                                class="bigStatus"
                                                number="{= ${developmentPathModel>/Completed} || 0 }"
                                            />
                                        </HBox>

                                        <HBox
                                            id="_IDGenHBox4"
                                            justifyContent="SpaceBetween"
                                            alignItems="Center"
                                            class="sapUiTinyMarginBottom"
                                        >
                                            <ObjectStatus
                                                id="_IDGenObjectStatus1"
                                                class="bigStatus"
                                                text="Enrolled"
                                                state="Information"
                                            />
                                            <ObjectNumber
                                                id="_IDGenObjectNumber7"
                                                class="bigStatus"
                                                number="{= ${developmentPathModel>/Enrolled} || 0 }"
                                            />
                                        </HBox>

                                        <HBox
                                            id="_IDGenHBox5"
                                            justifyContent="SpaceBetween"
                                            alignItems="Center"
                                        >
                                            <ObjectStatus
                                                id="_IDGenObjectStatus2"
                                                class="bigStatus"
                                                text="Not Enrolled"
                                                state="None"
                                            />
                                            <ObjectNumber
                                                id="_IDGenObjectNumber8"
                                                class="bigStatus"
                                                number="{= ${developmentPathModel>/NotEnrolled} || 0 }"
                                            />
                                        </HBox>
                                    </VBox>
                                </VBox>
                            </f:content>
                        </f:Card>
                    </VBox>

                    <VBox
                        id="sID_VBox3"
                        width="350px"
                        class="cardStack400"
                    >
                        <!-- PTO & Time -->
                        <f:Card
                            id="sID_HolidayTimeCard"
                            width="350px"
                        >
                            <f:header>
                                <card:Header
                                    id="sID_HolidayTimeCardHeader"
                                    title="Holiday and Time"
                                    iconSrc="sap-icon://time-off"
                                />
                            </f:header>
                            <f:content>
                                <VBox
                                    id="s_Id_HolidayTimeCard_VBox1"
                                    class="sapUiSmallMargin sapUiResponsiveContentPadding sapUiMediumMarginBegin"
                                >
                                    <Title
                                        id="s_Id_HolidayTimeCard_TextOverallPTO"
                                        text="Overall PTO Hours Remaining"
                                    />
                                    <ObjectNumber
                                        id="s_Id_HolidayTimeCard_ObjectNumberOverallPTO"
                                        class="bigObjNumber"
                                        number="{= ${ptoModel>/overallRemainingHrs}.toFixed(1) + 'h'}"
                                        emphasized="true"
                                        state="Success"
                                    />

                                    <Title
                                        id="s_Id_HolidayTimeCard_TextPrivilegePTO"
                                        text="Privilege Leave Remaining (PL)"
                                        class="sapUiSmallMarginTop"
                                    />
                                    <ObjectNumber
                                        id="s_Id_HolidayTimeCard_ObjectNumberPrivilegePTO"
                                        class="bigObjNumber"
                                        number="{= ${ptoModel>/privilegeRemainingHrs}.toFixed(1) + 'h'}"
                                        emphasized="true"
                                        state="Success"
                                    />

                                    <Title
                                        id="s_Id_HolidayTimeCard_TextcasualPTO"
                                        text="Casual/ Sick Leave Remaining (CL/SL)"
                                        class="sapUiSmallMarginTop"
                                    />
                                    <ObjectNumber
                                        id="s_Id_HolidayTimeCard_ObjectNumbercasualPTO"
                                        class="bigObjNumber"
                                        number="{= ${ptoModel>/casualSickRemainingHrs}.toFixed(1) + 'h'}"
                                        emphasized="true"
                                        state="Success"
                                    />


                                     <List
                                        id="_ID_PTO_List"
                                        width="100%"
                                        showSeparators="None"
                                        inset="false"
                                        backgroundDesign="Transparent"
                                        itemPress=".onapplyPTONavPress"
                                    >
                                        <CustomListItem
                                            id="_IDPTOCustomListItem"
                                            type="Active"
                                        >
                                            <HBox
                                                id="_IDPTOHBox"
                                                width="100%"
                                                class="holidayNavRow"
                                                justifyContent="Start"
                                                alignItems="Center"
                                                height="40px"
                                            >
                                                <items>
                                                    <Title
                                                        id="_IDPTOText"
                                                        text="Apply for PTO Here"
                                                    />
                                                </items>
                                            </HBox>
                                        </CustomListItem>
                                    </List>
                                </VBox>
                            </f:content>
                        </f:Card>
                    </VBox>

                    <VBox
                        id="sID_VBox4"
                        width="400px"
                        class="cardStack400"
                    >
                        <!-- HolidayList Card -->
                        <f:Card
                            id="sID_HolidayListCard"
                            width="400px"
                        >
                            <f:header>
                                <card:Header
                                    id="sID_HolidayListCardHeader"
                                    title="Holidays"
                                    iconSrc="sap-icon://general-leave-request"
                                />
                            </f:header>
                            <f:content>
                                <VBox
                                    id="s_Id_HolidayListCard_VBox1"
                                    class="sapUiSmallMargin sapUiResponsiveContentPadding sapUiMediumMarginBegin"
                                >
                                    <Title
                                        id="s_Id_HolidayListCard_TextOverallPTO"
                                        wrapping="true"
                                        text="{= ${holidayName}
                                            ? ('The next Deloitte Holiday is '
                                                + ${holidayName}
                                                + ( ${description} ? (' (' + ${description} + ')') : '' )
                                                + ' on')
                                            : 'Loading next holidayâ€¦'
                                            }"
                                    />
                                    <ObjectNumber
                                        id="s_Id_HolidayListCard_ObjectNumberOverallPTO"
                                        class="bigObjNumber"
                                        emphasized="true"
                                        state="Success"
                                        number="{
                                        path: 'date',
                                        type: 'sap.ui.model.odata.type.Date',
                                        formatOptions: { pattern: 'MMMM dd, yyyy' }
                                    }"
                                    />

                                    <List
                                        id="_IDGenList1"
                                        width="100%"
                                        showSeparators="None"
                                        inset="false"
                                        backgroundDesign="Transparent"
                                        itemPress=".onHolidayNavPress"
                                    >
                                        <CustomListItem
                                            id="_IDGenCustomListItem"
                                            type="Active"
                                        >
                                            <HBox
                                                id="_IDGenHBox6"
                                                width="100%"
                                                class="holidayNavRow"
                                                justifyContent="Start"
                                                alignItems="Center"
                                                height="40px"
                                            >
                                                <items>
                                                    <Title
                                                        id="_IDGenText12"
                                                        text="View All USI Deloitte Holidays"
                                                    />
                                                </items>
                                            </HBox>
                                        </CustomListItem>
                                    </List>
                                </VBox>
                            </f:content>
                        </f:Card>

                        <!-- Resource Manager Information -->
                        <f:Card
                            id="sID_ResourceManagerCard"
                            width="400px"
                        >
                            <f:header>
                                <card:Header
                                    id="_IDResourceManagerCardHeader"
                                    title="Resource Manager"
                                    iconSrc="sap-icon://manager"
                                />
                            </f:header>
                            <f:content>
                                <HBox
                                    id="_IDRMCardHBox"
                                    class="sapUiSmallMargin sapUiResponsiveContentPadding sapUiLargeMarginBegin"
                                    alignItems="Center"
                                >
                                    <Avatar
                                        id="_IDGenAvatar1"
                                        src="images/Avatar_Boy.avif"
                                        displaySize="M"
                                        showBorder="true"
                                        press="onPress"
                                    />
                                    <Title
                                        id="_IDGenText2"
                                        class="sapUiSmallMargin rmNameEmphasis "
                                        level="H6"
                                        text="{= ${rmInfoModel>/managerName}}"
                                    />
                                </HBox>
                            </f:content>
                        </f:Card>

                        <!-- <GenericTile
                            id="sID_genericTile_Announcements"
                            header="Announcements"
                            subheader="Latest updates"
                            press=".onAnnouncementTilePress"
                            class="sapUiSmallMargin"
                            frameType="TwoByOne"
                        >
                            <tileContent>
                                <TileContent id="_IDGenTileContent1">
                                    <content>
                                        <ImageContent
                                            id="_IDGenImageContent"
                                            src="sap-icon://notification"
                                        />
                                    </content>
                                </TileContent>
                            </tileContent>
                        </GenericTile> -->
                    </VBox>
                </cssgrid:CSSGrid>
            </VBox>
        </content>
    </Page>
</mvc:View>
